#N canvas 423 362 552 362 12;
#N canvas 340 94 776 489 save 0;
#X obj -565 264 soundfiler;
#X obj -113 23 t b b;
#X obj -31 -22 inlet;
#X obj -53 128 i 0;
#X msg 340 286 clear;
#X obj 10 354 textfile;
#X obj -180 208 extra/sv song;
#X obj -236 45 extra/sv \$1_\$2_is_loop_recorded;
#X msg 15 286 add exist \$1;
#X text -44 94 Save info file into text;
#X obj -113 -25 r save_song;
#X obj -475 62 extra/sv song;
#X obj -238 283 pack \$1 \$2 1 s;
#X obj -438 147 * 44.1;
#X obj 225 262 i 0;
#X msg 225 286 add duration \$1;
#X obj 112 262 i 0;
#X msg 116 283 add tempo \$1;
#X obj -565 191 pack \$0 \$1 \$2 1 s 1000 0;
#X obj 212 184 * 100;
#X text 321 162 save tempo *100 to increase accurency;
#X obj -130 228 r lucibox_path;
#X msg -238 320 write \$4/samples/\$3/loop\$1_\$2_info.txt;
#X obj -445 102 r lucibox_path;
#X obj -53 161 t f b b f b b b;
#X obj -173 175 sel 1;
#X text -214 150 save into wav if exists;
#X obj 212 137 extra/sv \$1_\$2_loop_tempo;
#X obj -113 -4 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj -459 269 print;
#X obj 262 229 extra/sv \$1_\$2_loop_size;
#X obj -438 124 extra/sv \$1_\$2_loop_timer;
#X msg -565 212 write -wave -nframes \$6 \$5/samples/\$4/loop\$2_\$3.wav \$2_\$3_loop0, f 62;
#X connect 1 0 7 2;
#X connect 2 0 1 0;
#X connect 3 0 24 0;
#X connect 4 0 5 0;
#X connect 6 0 12 2;
#X connect 7 1 3 0;
#X connect 8 0 5 0;
#X connect 10 0 28 0;
#X connect 11 0 18 3;
#X connect 12 0 22 0;
#X connect 13 0 18 5;
#X connect 14 0 15 0;
#X connect 15 0 5 0;
#X connect 16 0 17 0;
#X connect 17 0 5 0;
#X connect 18 0 32 0;
#X connect 19 0 16 1;
#X connect 21 0 12 3;
#X connect 22 0 5 0;
#X connect 23 0 18 4;
#X connect 24 0 25 0;
#X connect 24 1 12 0;
#X connect 24 3 8 0;
#X connect 24 4 16 0;
#X connect 24 5 14 0;
#X connect 24 6 4 0;
#X connect 25 0 18 0;
#X connect 27 0 19 0;
#X connect 28 0 1 0;
#X connect 30 0 14 1;
#X connect 31 0 13 0;
#X connect 32 0 0 0;
#X connect 32 0 29 0;
#X restore -61 170 pd save;
#X obj -61 149 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#N canvas 376 172 1136 726 open 1;
#X obj 144 269 soundfiler;
#X obj 195 365 / 44.1;
#X floatatom 195 387 10 0 0 0 - - - 0;
#X obj 134 2 inlet;
#X obj 480 82 openpanel;
#X obj 480 61 bang;
#X obj 480 41 inlet;
#X obj 550 81 r \$1_\$2_loop_open;
#X text 244 3 Open from saved song;
#X text 654 50 open from file;
#X obj 368 167 extra/sv song;
#X obj 8 25 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 144 314 sel 0;
#N canvas 530 299 802 599 checkinfofile 0;
#X obj 53 -135 inlet;
#X obj 195 133 textfile;
#X msg 127 58 rewind;
#X obj 88 58 bang;
#X obj 52 -108 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 48 58 bang;
#X obj 8 58 bang;
#X obj 62 208 sel 1 0;
#X obj 62 332 outlet;
#X obj 195 165 route exist tempo duration;
#X floatatom 220 227 5 0 0 0 - - - 0;
#X obj 299 239 / 100;
#X obj 299 218 f 0;
#X obj 107 -107 extra/sv song;
#X obj 53 -84 pack \$1 \$2 1 s;
#X obj 214 -107 r lucibox_path;
#X obj 53 -41 symbol;
#X msg 53 -63 \$4/samples/\$3/loop\$1_\$2_info.txt;
#X obj 53 -11 extra/check_file_exist;
#X msg 194 108 read \$1;
#X obj 62 294 t b b;
#X obj 250 261 extra/sv \$1_\$2_loop_tempo;
#X obj 188 60 s \$0_init;
#X obj 329 204 extra/sv \$1_\$2_loop_size;
#X obj 54 14 t b b b b b b s b;
#X obj 296 42 s \$1_\$2_action;
#X msg 296 21 clear;
#X obj 103 296 s \$1_\$2_action;
#X msg 103 275 clear;
#X obj 330 -19 print;
#X connect 0 0 4 0;
#X connect 1 0 9 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 14 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 20 0;
#X connect 7 1 28 0;
#X connect 9 0 7 0;
#X connect 9 1 10 0;
#X connect 9 1 12 0;
#X connect 9 2 23 1;
#X connect 11 0 21 1;
#X connect 12 0 11 0;
#X connect 13 0 14 2;
#X connect 14 0 17 0;
#X connect 15 0 14 3;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X connect 17 0 29 0;
#X connect 18 0 24 0;
#X connect 18 1 26 0;
#X connect 19 0 1 0;
#X connect 20 0 8 0;
#X connect 24 2 6 0;
#X connect 24 3 5 0;
#X connect 24 4 3 0;
#X connect 24 5 2 0;
#X connect 24 6 19 0;
#X connect 24 7 22 0;
#X connect 26 0 25 0;
#X connect 28 0 27 0;
#X restore 141 42 pd checkinfofile;
#X obj 480 165 soundfiler;
#X obj 507 263 / 44.1;
#X floatatom 507 287 10 0 0 0 - - - 0;
#N canvas 160 152 1280 624 tempoCalculation 0;
#X floatatom 69 134 5 0 0 0 - - - 0;
#X obj 42 505 /;
#X obj 123 182 log;
#X obj 123 271 i;
#X obj 123 221 / 0.693147;
#X floatatom 123 248 5 0 0 0 - - - 0;
#X floatatom 123 302 5 0 0 0 - - - 0;
#X obj 114 388 pow;
#X msg 102 360 2;
#X floatatom 114 413 5 0 0 0 - - - 0;
#X obj 102 327 t b f;
#X obj 42 68 t f f;
#X obj 69 105 / 380;
#X obj 59 1 inlet;
#X obj 41 646 outlet;
#X text 398 528 TIME STRETCH ACCORDING TO TEMPO;
#X obj 42 545 t f f f f b;
#X obj 87 587 extra/sv \$1_\$2_loop_tempo;
#X obj 135 61 extra/sv \$1_\$2_loop_timer;
#X obj 115 461 extra/sv \$1_\$2_loop_size;
#X connect 0 0 2 0;
#X connect 1 0 16 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 10 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 1 1;
#X connect 9 0 19 1;
#X connect 10 0 8 0;
#X connect 10 1 7 1;
#X connect 11 0 1 0;
#X connect 11 1 12 0;
#X connect 12 0 0 0;
#X connect 13 0 11 0;
#X connect 13 0 18 1;
#X connect 16 0 14 0;
#X connect 16 1 17 1;
#X restore 564 363 pd tempoCalculation;
#X text 156 22 Be sure there is a loop saved with this looper;
#X obj 480 191 sel 0;
#X text 538 195 From a file \, open the file only;
#X obj 145 200 pack \$0 \$1 \$2 1 s;
#X obj 144 75 t b b b b;
#N canvas 765 154 685 616 config 0;
#X obj 194 31 inlet;
#X text 421 129 Toujours d'actualit√©?;
#X obj 118 180 outlet;
#X obj 195 94 t f b b b b b f;
#X obj 282 128 print config_openfile;
#X obj 177 178 extra/sv \$1_\$2_state;
#X msg 216 157 3;
#X connect 0 0 3 0;
#X connect 3 0 2 0;
#X connect 3 1 6 0;
#X connect 3 6 4 0;
#X connect 6 0 5 1;
#X restore 564 408 pd config;
#X obj 541 16 r \$1_\$2_loop_open_browser;
#X obj 507 226 t f b;
#X text 395 573 stretch file only for sound from song or external files. Update stretch when tempo is changed;
#X obj 8 1 r loadfilessong;
#X floatatom 144 289 20 0 0 0 - - - 0;
#X obj 261 167 r lucibox_path;
#X text 587 288 if it is short \, consider it as a one shot sample \, not a real loop;
#X obj 507 315 moses 2000;
#N canvas 224 182 450 300 oneShotSample 0;
#X obj 139 59 inlet;
#X obj 59 208 outlet;
#X obj 85 120 extra/sv tempo;
#X msg 198 117 1;
#X obj 138 88 t b b f;
#X obj 138 143 t f f f;
#X obj 109 209 extra/sv \$1_\$2_loop_tempo;
#X obj 269 209 extra/sv \$1_\$2_loop_timer;
#X obj 198 145 extra/sv \$1_\$2_loop_size;
#X connect 0 0 4 0;
#X connect 2 1 5 0;
#X connect 3 0 8 1;
#X connect 4 0 2 2;
#X connect 4 1 3 0;
#X connect 5 0 1 0;
#X connect 5 1 6 1;
#X connect 5 2 7 1;
#X restore 441 363 pd oneShotSample;
#X obj 505 341 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 575 340 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 520 17 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 565 492 time_compression_\$4 \$1 \$2;
#X text 736 492 timeCompression copy and adjust loopOrigin to loop_\$0;
#X obj 138 409 extra/sv \$1_\$2_loop_timer;
#X msg 167 458 3;
#X obj 128 480 extra/sv \$1_\$2_state;
#X obj 555 263 s \$0_clear;
#X msg 145 247 read \$5/samples/\$4/loop\$2_\$3.wav \$2_\$3_loop0;
#X obj 168 341 t b f b;
#X text 736 521 Suupposed to be realtime \, but realtime works only with external .wav file \, not with song actually;
#X obj 480 114 pack s \$1 \$2;
#X msg 480 144 read \$1 \$2_\$3_loopOrigin;
#X connect 0 0 28 0;
#X connect 1 0 2 0;
#X connect 2 0 38 1;
#X connect 3 0 13 0;
#X connect 4 0 45 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 7 0 45 0;
#X connect 10 1 21 3;
#X connect 11 0 13 0;
#X connect 12 1 43 0;
#X connect 13 0 22 0;
#X connect 14 0 19 0;
#X connect 15 0 16 0;
#X connect 16 0 31 0;
#X connect 17 0 23 0;
#X connect 19 1 25 0;
#X connect 21 0 42 0;
#X connect 22 0 21 0;
#X connect 22 2 10 2;
#X connect 23 0 36 0;
#X connect 24 0 5 0;
#X connect 25 0 15 0;
#X connect 25 1 41 0;
#X connect 27 0 11 0;
#X connect 28 0 12 0;
#X connect 29 0 21 4;
#X connect 31 0 32 0;
#X connect 31 0 33 0;
#X connect 31 1 17 0;
#X connect 31 1 34 0;
#X connect 32 0 23 0;
#X connect 35 0 5 0;
#X connect 39 0 40 1;
#X connect 42 0 0 0;
#X connect 43 0 39 0;
#X connect 43 1 1 0;
#X connect 45 0 46 0;
#X connect 46 0 14 0;
#X restore -7 171 pd open;
#X obj -7 149 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 31 150 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X connect 1 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
