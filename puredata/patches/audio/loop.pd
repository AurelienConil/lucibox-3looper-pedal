#N canvas 0 38 1512 863 10;
#X declare -path ../;
#X obj -186 37 cnv 15 1200 70 empty empty FROM::INLET 20 12 0 14 #c4d8e0 #404040 0;
#X obj 176 42 inlet;
#X obj 74 705 cnv 15 250 350 empty empty write_first_loop_with_tempo 20 12 0 9 #cce0e8 #404040 0;
#X msg 145 811 stop;
#X msg 89 835 start;
#X text 102 912 TEMPO;
#X obj 92 935 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 143 936 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 96 43 inlet~;
#X obj 333 704 cnv 15 250 400 empty empty write_other_loop 20 12 0 9 #c4d8e0 #404040 0;
#X msg 395 956 stop;
#X obj 455 1061 +~;
#X obj 594 707 cnv 15 210 350 empty empty play! 20 12 0 9 #c4d8e0 #404040 0;
#X obj 390 41 inlet;
#X obj 145 789 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 90 790 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 110 760 sel 1 0;
#X obj 683 410 cnv 15 300 250 empty empty Tables 20 12 0 14 #e4ecec #404040 0;
#X text 508 153 clear_with_longpress;
#X obj 145 831 t b b a;
#X obj 811 707 cnv 15 400 350 empty empty CLEAR 20 12 0 9 #c4d8e0 #404040 0;
#X obj 907 734 bng 15 250 50 0 empty empty empty 17 7 0 10 #fc0400 #000000 #000000;
#X obj 829 1016 outlet;
#X obj 678 1088 outlet~;
#X obj 728 1088 outlet~;
#X obj 778 1088 outlet~;
#X obj -181 705 cnv 15 250 350 empty empty write_first_loop 20 12 0 9 #cce0e8 #404040 0;
#X msg -98 811 stop;
#X msg -152 832 start;
#X text -149 977 TEMPO;
#X obj -153 922 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj -79 928 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj -98 789 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj -153 790 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj -133 760 sel 1 0;
#X obj -98 831 t b b a;
#X obj 391 209 bng 35 250 50 0 empty empty play 11 7 0 10 #00fc04 #000000 #000000;
#N canvas 356 115 785 682 config 0;
#X floatatom 69 444 5 0 0 0 - - - 0;
#X obj 42 785 /;
#X obj 123 462 log;
#X obj 123 551 i;
#X obj 123 501 / 0.693147;
#X floatatom 123 528 5 0 0 0 - - - 0;
#X floatatom 123 582 5 0 0 0 - - - 0;
#X obj 114 668 pow;
#X msg 102 640 2;
#X floatatom 114 693 5 0 0 0 - - - 0;
#X obj 102 607 t b f;
#X obj 0 177 inlet;
#X obj 103 177 inlet;
#X obj 69 415 / 380;
#X obj 317 709 cnv 15 100 60 empty empty empty 20 12 0 14 #e0e0e0 #404040 0;
#X text 323 714 really important;
#X text 322 734 set qantif from 1s loop;
#X obj 0 207 bang;
#X obj 103 206 bang;
#X text 137 274 This is the real tempo;
#X obj 46 230 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 131 238 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 68 298 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 124 420 10 0 0 0 - - - 0;
#X text 92 261 Previously on realtime;
#X obj 42 266 timer;
#X obj 102 869 extra/sv \$1_\$2_loop_tempo;
#X text 202 916 To Asked Action;
#X obj 114 762 extra/sv \$1_\$2_loop_size;
#X obj 220 414 extra/sv \$1_\$2_loop_timer;
#X obj 42 378 t f f f f;
#X obj 85 914 s \$1_\$2_action;
#X msg 85 894 play;
#X obj 42 828 t b f b f;
#X text 113 829 envoit le tempo en period ( ms );
#X text -112 922 why send tempo value and not change sv_tempo directly ?;
#X obj -153 901 extra/tempo_set_play;
#X obj -56 882 extra/tempo_set_value;
#X connect 0 0 2 0;
#X connect 1 0 33 0;
#X connect 2 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 10 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 1 1;
#X connect 9 0 28 1;
#X connect 10 0 8 0;
#X connect 10 1 7 1;
#X connect 11 0 17 0;
#X connect 12 0 18 0;
#X connect 13 0 0 0;
#X connect 17 0 20 0;
#X connect 17 0 25 0;
#X connect 18 0 21 0;
#X connect 18 0 25 1;
#X connect 25 0 22 0;
#X connect 25 0 30 0;
#X connect 30 0 1 0;
#X connect 30 1 13 0;
#X connect 30 2 23 0;
#X connect 30 3 29 1;
#X connect 32 0 31 0;
#X connect 33 0 36 0;
#X connect 33 1 37 0;
#X connect 33 2 32 0;
#X connect 33 3 26 1;
#X restore -129 955 pd config;
#N canvas 637 170 693 544 config 0;
#X floatatom 113 343 5 0 0 0 - - - 0;
#X floatatom 46 446 10 0 0 0 - - - 0;
#X obj 144 106 inlet;
#X obj 303 116 inlet;
#X obj 64 231 f;
#X obj 98 232 + 1;
#X obj 64 202 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 64 260 5 0 0 0 - - - 0;
#X obj 64 168 r tempo_click_bang;
#X obj 114 324 i 0;
#X obj 210 305 extra/sv tempo;
#X obj 264 278 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 144 199 1;
#X text 165 330 not tempo but period;
#X obj 291 346 t f f;
#X obj 114 408 * 1;
#X obj 269 373 extra/sv \$1_\$2_loop_tempo;
#X obj 246 191 t b b;
#X obj 276 446 extra/sv \$1_\$2_loop_size;
#X obj 114 446 extra/sv \$1_\$2_loop_timer;
#X obj 113 372 t f f b;
#X obj 197 105 inlet;
#X msg 192 199 2;
#X text 194 33 User in late miss;
#X text 193 49 first click bang;
#X connect 0 0 20 0;
#X connect 2 0 12 0;
#X connect 3 0 17 0;
#X connect 4 0 5 0;
#X connect 4 0 7 0;
#X connect 5 0 4 1;
#X connect 6 0 4 0;
#X connect 7 0 9 1;
#X connect 8 0 6 0;
#X connect 9 0 0 0;
#X connect 10 1 14 0;
#X connect 11 0 10 2;
#X connect 12 0 4 1;
#X connect 14 0 15 1;
#X connect 14 1 16 1;
#X connect 15 0 1 0;
#X connect 15 0 19 1;
#X connect 17 0 9 0;
#X connect 17 1 11 0;
#X connect 20 0 15 0;
#X connect 20 1 18 1;
#X connect 21 0 22 0;
#X connect 22 0 4 1;
#X restore 92 956 pd config;
#X obj 202 138 extra/sv \$1_\$2_loop_recbutton;
#X obj 421 113 extra/sv \$1_\$2_loop_playbutton;
#X obj 1022 36 cnv 15 210 350 empty empty GUI 20 12 0 9 #fce0c4 #404040 0;
#N canvas 370 58 797 727 ledoutrec 0;
#X msg 102 285 1;
#X obj 102 447 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 102 474 sel 1;
#X msg 102 377 bang;
#X msg 146 377 stop;
#X obj 102 328 sel 1;
#X obj 153 349 t b b;
#X msg 178 447 1;
#X msg 284 572 1;
#X msg 312 572 0;
#X obj 284 616 outlet;
#X obj 284 469 sel 1 0;
#X obj 102 418 metro 100;
#X text 291 45 TODO : remplacer tout par le state;
#X obj 281 287 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 281 311 t f b;
#X obj 139 84 extra/visual_state \$1 \$2;
#X msg 278 249 0;
#X msg 314 248 1;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 2 1 9 0;
#X connect 3 0 12 0;
#X connect 4 0 12 0;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 4 0;
#X connect 6 1 7 0;
#X connect 7 0 2 0;
#X connect 8 0 10 0;
#X connect 9 0 10 0;
#X connect 11 0 8 0;
#X connect 11 1 9 0;
#X connect 12 0 1 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 15 1 4 0;
#X connect 16 0 17 0;
#X connect 16 1 0 0;
#X connect 16 2 18 0;
#X connect 16 3 0 0;
#X connect 16 4 17 0;
#X connect 16 5 17 0;
#X connect 16 6 0 0;
#X connect 16 7 17 0;
#X connect 16 9 18 0;
#X connect 16 10 0 0;
#X connect 17 0 14 0;
#X connect 18 0 14 0;
#X restore 1032 194 pd ledoutrec;
#N canvas 767 151 881 687 ledoutplay 0;
#X obj 251 433 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 251 460 sel 1;
#X msg 227 363 bang;
#X msg 287 364 stop;
#X obj 243 314 sel 1;
#X obj 294 335 t b b;
#X msg 319 428 1;
#X obj 407 558 outlet;
#X msg 407 522 1;
#X msg 469 522 0;
#X obj 407 434 sel 1 0;
#X obj 407 294 t f b;
#X obj 251 404 metro 100;
#X obj 243 20 extra/visual_state \$1 \$2;
#X msg 410 213 0;
#X msg 457 212 1;
#X msg 245 213 1;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 1 1 9 0;
#X connect 2 0 12 0;
#X connect 3 0 12 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 1 0;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X connect 10 0 8 0;
#X connect 10 1 9 0;
#X connect 11 0 10 0;
#X connect 11 1 3 0;
#X connect 12 0 0 0;
#X connect 13 0 14 0;
#X connect 13 3 16 0;
#X connect 13 4 15 0;
#X connect 13 5 16 0;
#X connect 13 7 14 0;
#X connect 13 8 16 0;
#X connect 13 10 16 0;
#X connect 14 0 11 0;
#X connect 15 0 11 0;
#X connect 16 0 4 0;
#X restore 1032 274 pd ledoutplay;
#X obj 510 207 bng 35 250 50 0 empty empty RESET 17 7 0 10 #fc8000 #000000 #000000;
#N canvas 965 260 568 257 manageLongPress 0;
#X obj 219 27 inlet;
#X obj 219 50 bang;
#X obj 219 70 extra/sv_tester \$1_\$2_is_loop_recorded;
#X msg 444 100 clear;
#X obj 444 125 s \$1_\$2_action;
#X msg 384 98 undo;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 1 3 0;
#X connect 3 0 4 0;
#X connect 5 0 4 0;
#X restore 518 261 pd manageLongPress;
#X msg 929 894 0;
#N canvas 1183 427 641 356 slider_ui 0;
#X obj 31 53 inlet~;
#X obj 199 238 snapshot~;
#X obj 347 191 loadbang;
#X obj 315 174 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 199 200 /~ 44.1;
#X floatatom 238 78 10 0 0 0 - - - 0;
#X obj 238 99 * 44.1;
#X obj 142 264 extra/sv \$1_\$2_recloop_slider;
#X obj 30 112 *~ 1;
#X obj 30 151 *~ 1;
#X obj 347 215 metro 100;
#X obj 78 114 extra/sv tempo_isplaying;
#X obj 89 29 i 0;
#X obj 89 8 extra/sv \$1_\$2_state;
#X obj 89 51 sel 2 4;
#X msg 89 71 1;
#X msg 120 72 0;
#X obj 238 53 extra/sv \$1_\$2_loop_timer;
#X connect 0 0 8 0;
#X connect 1 0 7 1;
#X connect 2 0 10 0;
#X connect 3 0 10 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 10 0 1 0;
#X connect 11 0 9 1;
#X connect 12 0 14 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 14 1 15 0;
#X connect 14 2 16 0;
#X connect 15 0 8 1;
#X connect 16 0 8 1;
#X connect 17 0 5 0;
#X restore 692 862 pd slider_ui;
#X obj 391 140 tgl 35 0 empty empty empty 17 7 0 10 #00fc04 #000000 #000000 0 1;
#N canvas 451 376 869 340 release_sound 0;
#X obj 102 71 inlet~;
#X obj 103 280 outlet~;
#X obj 172 141 line~;
#X obj 102 157 *~;
#X obj 102 192 *~;
#X msg 297 147 1 1;
#X msg 379 147 0 1;
#X obj 174 184 line~;
#X obj 173 222 line~;
#X obj 103 238 *~;
#X msg 346 198 0 1;
#X obj 424 155 extra/sv \$1_\$2_loop_mute;
#X obj 423 174 sel 1 0;
#X msg 426 199 1 1;
#X msg 175 8 1 3;
#X msg 212 5 0 3;
#X obj 208 -90 extra/sv \$1_\$2_state;
#X obj 209 -68 i 0;
#X obj 343 93 extra/sv tempo_isplaying;
#X obj 343 116 sel 1 0;
#X obj 208 -39 sel 2 4 6;
#X obj 260 5 extra/sv \$1_\$2_loop_fade;
#X msg 264 45 0 \$1;
#X obj 401 28 * 1000;
#X connect 0 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 4 1;
#X connect 8 0 9 1;
#X connect 9 0 1 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 12 1 13 0;
#X connect 12 2 13 0;
#X connect 13 0 8 0;
#X connect 14 0 2 0;
#X connect 15 0 2 0;
#X connect 16 0 17 0;
#X connect 17 0 20 0;
#X connect 18 0 19 0;
#X connect 19 0 5 0;
#X connect 19 1 6 0;
#X connect 20 0 14 0;
#X connect 20 1 14 0;
#X connect 20 2 21 2;
#X connect 20 3 15 0;
#X connect 21 1 23 0;
#X connect 22 0 2 0;
#X connect 23 0 22 0;
#X restore 640 940 pd release_sound;
#X obj -195 111 cnv 15 280 280 empty empty LOOP 20 12 0 9 #cce0e8 #404040 0;
#N canvas 99 92 1056 415 init 0;
#X obj 232 47 loadbang;
#X text 57 57 Save cpu at start;
#X obj 302 46 r \$0_init;
#X msg 389 138 0;
#X obj 378 279 extra/sv \$1_\$2_loop_playsampler;
#X obj 379 300 extra/sv \$1_\$2_loop_mute;
#X obj 383 215 extra/sv \$1_\$2_loop_inverse;
#X obj 381 237 extra/sv \$1_\$2_loop_slice;
#X obj 379 259 extra/sv \$1_\$2_loop_start;
#X obj 571 217 extra/sv \$1_\$2_loop_size;
#X obj 570 259 extra/sv \$1_\$2_loop_timer;
#X obj 570 302 extra/sv \$1_\$2_loop_tempo;
#X msg 604 137 0;
#X obj 729 219 extra/sv \$1_\$2_state;
#X msg 767 132 0;
#X obj 228 97 t b b b b b b b;
#X obj 738 260 extra/sv \$1_\$2_user_is_late;
#X obj 908 259 extra/sv \$1_\$2_loop_fade;
#X msg 946 131 4;
#X obj 185 341 extra/sv \$1_\$2_loop_volume;
#X msg 251 213 150;
#X connect 0 0 15 0;
#X connect 2 0 15 0;
#X connect 3 0 4 1;
#X connect 3 0 5 1;
#X connect 3 0 6 1;
#X connect 3 0 7 1;
#X connect 3 0 8 1;
#X connect 12 0 11 1;
#X connect 12 0 10 1;
#X connect 12 0 9 1;
#X connect 14 0 13 1;
#X connect 14 0 16 1;
#X connect 15 2 20 0;
#X connect 15 3 3 0;
#X connect 15 4 12 0;
#X connect 15 6 14 0;
#X connect 15 6 18 0;
#X connect 18 0 17 1;
#X connect 20 0 19 1;
#X restore -78 117 pd init;
#X obj -193 147 declare -path ../;
#X text -169 189 \$1 : index of the column;
#X text -171 203 \$2 : index of the raw;
#X text -170 217 \$3 : index of rampgenerator;
#X text -130 232 1 . Line;
#X text -76 232 2 Breakbeat;
#X text -128 279 0 . No;
#X text -80 281 1 . Yes;
#X text -170 293 \$5 : manage the Recording;
#X text -133 310 1 . Classic;
#X text -55 310 2 No Overdub;
#X text -144 361 0 . No;
#X text -97 362 1 . Yes;
#X text -171 232 0 . No;
#X obj 663 841 rampgenerator_\$3 \$1 \$2;
#X text 691 785 Loop start here;
#X text 705 742 manage cycle;
#X text 993 1020 Breakbeat mode;
#X obj 829 758 t b b b b b b b b b b b b;
#X obj 647 1042 mixer \$1_\$2_loop;
#X obj 684 813 s \$1_\$2_loop_startbang;
#X text 4 232 3 Timestretch;
#X obj 1033 215 extra/sv \$1_\$2_loop_ledrec;
#X obj 1033 299 extra/sv \$1_\$2_loop_ledplay;
#X text -44 362 2 One shot;
#X text -171 265 \$4 : timecompression when tempo change;
#X text 25 310 3 AutoSync;
#N canvas 15 65 859 703 led_mono 0;
#X obj 284 41 extra/visual_state \$1 \$2;
#X msg 448 540 1;
#X msg 476 540 0;
#X obj 448 584 outlet;
#X obj 448 437 sel 1 0;
#X obj 445 255 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 445 279 t f b;
#X msg 442 217 0;
#X msg 478 216 1;
#X msg 615 253 1;
#X obj 618 510 sel 1;
#X msg 615 345 bang;
#X msg 659 345 stop;
#X obj 615 386 metro 1000;
#X obj 615 413 t b b;
#X msg 615 445 1;
#X obj 642 445 delay 50;
#X msg 642 464 0;
#X msg 72 265 1;
#X obj 72 427 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 74 505 sel 1;
#X msg 72 357 bang;
#X msg 116 357 stop;
#X msg 148 427 1;
#X obj 72 398 metro 100;
#X msg 286 259 1;
#X obj 289 516 sel 1;
#X msg 286 351 bang;
#X msg 330 351 stop;
#X obj 286 419 t b b;
#X msg 286 451 0;
#X msg 313 470 1;
#X obj 313 451 delay 90;
#X obj 72 285 t f b b;
#X obj 286 279 t f b b;
#X obj 615 273 t f b b;
#X obj 286 392 metro 500;
#X obj 99 305 s \$0_stop3;
#X obj 171 304 s \$0_stop2;
#X obj 116 337 r \$0_stop1;
#X obj 330 332 r \$0_stop2;
#X obj 504 297 s \$0_stop3;
#X obj 484 317 s \$0_stop2;
#X obj 464 338 s \$0_stop1;
#X obj 642 298 s \$0_stop1;
#X obj 715 298 s \$0_stop2;
#X obj 659 326 r \$0_stop3;
#X obj 381 305 s \$0_stop3;
#X obj 313 304 s \$0_stop1;
#X connect 0 0 7 0;
#X connect 0 1 18 0;
#X connect 0 2 25 0;
#X connect 0 3 18 0;
#X connect 0 4 8 0;
#X connect 0 5 18 0;
#X connect 0 6 18 0;
#X connect 0 7 9 0;
#X connect 0 8 18 0;
#X connect 0 9 25 0;
#X connect 0 10 7 0;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 4 0 1 0;
#X connect 4 1 2 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 6 1 41 0;
#X connect 6 1 42 0;
#X connect 6 1 43 0;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 9 0 35 0;
#X connect 10 0 1 0;
#X connect 10 1 2 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 15 0 10 0;
#X connect 16 0 17 0;
#X connect 17 0 10 0;
#X connect 18 0 33 0;
#X connect 19 0 20 0;
#X connect 20 0 1 0;
#X connect 20 1 2 0;
#X connect 21 0 24 0;
#X connect 22 0 24 0;
#X connect 23 0 20 0;
#X connect 24 0 19 0;
#X connect 25 0 34 0;
#X connect 26 0 1 0;
#X connect 26 1 2 0;
#X connect 27 0 36 0;
#X connect 28 0 36 0;
#X connect 29 0 30 0;
#X connect 29 1 32 0;
#X connect 30 0 26 0;
#X connect 31 0 26 0;
#X connect 32 0 31 0;
#X connect 33 0 21 0;
#X connect 33 1 37 0;
#X connect 33 2 38 0;
#X connect 34 0 27 0;
#X connect 34 1 48 0;
#X connect 34 2 47 0;
#X connect 35 0 11 0;
#X connect 35 1 44 0;
#X connect 35 2 45 0;
#X connect 36 0 29 0;
#X connect 39 0 22 0;
#X connect 40 0 28 0;
#X connect 46 0 12 0;
#X restore 1034 80 pd led_mono;
#X text -168 345 \$6 : sampler;
#N canvas 865 221 763 455 manage_start 0;
#X obj 64 247 f;
#X obj 98 248 + 1;
#X obj 64 58 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 64 296 5 0 0 0 - - - 0;
#X obj 64 319 mod 1;
#X msg 216 207 0;
#X obj 64 342 select 0;
#X obj 64 18 r tempo_click_bang;
#X obj 189 17 inlet;
#X obj 64 100 spigot;
#X obj 118 63 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 64 428 outlet;
#X msg 235 90 0;
#X obj 216 67 sel 1 0;
#X text 263 151 Reset counter;
#X floatatom 101 296 5 0 0 0 - - - 0;
#X obj 237 115 extra/sv \$1_\$2_loop_mute;
#X obj 101 274 extra/sv \$1_\$2_loop_size;
#X obj 351 157 extra/sv tempo_isplaying;
#X obj 351 182 sel 0;
#X obj 233 168 r \$0_clear;
#X obj 189 39 t f f;
#X text 245 13 TODO : inlet has to trigger the first loop directly.;
#X msg 64 389 0;
#X text 104 388 0 means start from beginning;
#X text 596 101 User is late \, start not exactly at begining;
#X text 593 116 Miss the first click bang;
#X obj 554 127 t b f;
#X msg 440 204 1;
#X obj 498 389 f;
#X text 535 389 start with x ms of late;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 1 0 0 1;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 0 1;
#X connect 6 0 23 0;
#X connect 7 0 2 0;
#X connect 8 0 21 0;
#X connect 9 0 0 0;
#X connect 10 0 9 1;
#X connect 12 0 16 1;
#X connect 13 0 5 0;
#X connect 13 1 12 0;
#X connect 13 2 27 0;
#X connect 15 0 4 1;
#X connect 17 0 15 0;
#X connect 18 0 19 0;
#X connect 19 0 5 0;
#X connect 20 0 5 0;
#X connect 21 0 10 0;
#X connect 21 1 13 0;
#X connect 23 0 11 0;
#X connect 27 0 28 0;
#X connect 27 1 29 0;
#X connect 28 0 0 1;
#X connect 29 0 11 0;
#X restore 645 756 pd manage_start;
#X text -132 327 4 Metronome;
#X obj 176 213 tgl 35 0 empty empty REC 17 7 0 10 #fc0400 #000000 #000000 0 1;
#X obj 391 183 hardware/press_manager \$1 \$2;
#X obj 698 40 inlet;
#X text 225 38 Rec button;
#X text 438 42 Play button;
#X text 749 41 Mono button;
#X obj 721 135 extra/sv \$1_\$2_loop_monobutton;
#X obj 690 197 tgl 35 0 empty empty empty 17 7 0 10 #00f8fc #000000 #000000 0 1;
#X obj 690 248 manage_monobutton_\$5 \$1 \$2;
#N canvas 641 129 535 384 manage_playbutton 0;
#X obj 278 10 inlet;
#X obj 277 44 bng 40 1000 500 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 199 92 extra/sv \$1_\$2_state;
#X obj 316 115 sel 2 4 3;
#X obj 281 157 bng 40 1000 500 0 empty empty Overdub 17 7 0 10 #00fc04 #000000 #000000;
#X obj 230 157 bng 40 1000 500 0 empty empty Play 17 7 0 10 #00fc04 #000000 #000000;
#X obj 345 159 bng 40 1000 500 0 empty empty Stop 17 7 0 10 #00fc04 #000000 #000000;
#X obj 287 310 s \$1_\$2_action;
#X msg 345 216 play;
#X msg 211 214 stop_next;
#X msg 280 215 stop;
#X connect 0 0 1 0;
#X connect 1 0 2 2;
#X connect 2 1 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 3 2 6 0;
#X connect 4 0 10 0;
#X connect 5 0 9 0;
#X connect 6 0 8 0;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X connect 10 0 7 0;
#X restore 391 260 pd manage_playbutton;
#X obj 177 259 manage_recbutton_\$5 \$1 \$2;
#X obj -131 737 r \$0_rec_without_tempo;
#X obj 110 737 r \$0_rec_with_tempo;
#X obj 406 731 r \$0_overdub;
#X obj 646 724 r \$0_play;
#X obj 907 716 r \$0_clear;
#X obj 929 921 s \$0_overdub;
#X obj -191 408 cnv 15 280 250 empty empty ACTION 20 12 0 9 #c4c4fc #404040 0;
#N canvas 290 411 1176 293 action_manager 1;
#X obj 106 -28 r \$1_\$2_action;
#N canvas 272 415 1017 439 action_play 0;
#X obj 115 -18 inlet;
#X msg 554 267 1;
#X obj 115 6 extra/sv_tester tempo_isplaying;
#X msg -1 203 1;
#X obj -75 265 extra/sv tempo_isplaying;
#X msg -28 244 1;
#X msg 160 273 1;
#X text 167 208 End of recording;
#X msg 326 255 1;
#X text 331 236 End of recording;
#X msg 448 251 2;
#X obj 326 202 t b b;
#X msg 698 266 2;
#X msg 227 251 2;
#X obj 162 190 t b b;
#X obj -28 154 t b b b;
#X msg 56 184 2;
#X obj 155 -19 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 188 272 extra/sv \$1_\$2_state;
#X obj 671 288 extra/sv \$1_\$2_state;
#X obj 29 206 extra/sv \$1_\$2_state;
#X obj 160 300 s \$0_play;
#X obj 326 275 s \$0_play;
#X obj 0 225 s \$0_play;
#X obj 554 288 s \$0_play;
#X msg 645 192 3.5;
#X obj 411 277 extra/sv \$1_\$2_state;
#X obj 576 107 bang;
#X obj 298 33 extra/visual_tester_state_int \$1 \$2;
#X obj 114 29 extra/visual_tester_state_int \$1 \$2;
#X obj 722 85 sel 0;
#X obj 506 70 extra/sv \$1_\$2_user_is_late;
#X obj 960 217 extra/sv \$1_\$2_state;
#X obj 847 129 t f b b;
#X obj 892 192 samplerate~;
#X obj 847 190 / 1000;
#X obj 845 251 *;
#X text 889 127 User is late \, start playing with a small delay;
#X obj 845 279 s \$0_play;
#X msg 997 191 2;
#X obj 780 169 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X floatatom 788 150 5 0 0 0 - - - 0;
#X obj 553 222 extra/quantif_once;
#X connect 0 0 2 0;
#X connect 1 0 24 0;
#X connect 2 0 29 0;
#X connect 2 1 28 0;
#X connect 3 0 23 0;
#X connect 5 0 4 1;
#X connect 6 0 21 0;
#X connect 8 0 22 0;
#X connect 10 0 26 1;
#X connect 11 0 8 0;
#X connect 11 1 10 0;
#X connect 12 0 19 1;
#X connect 13 0 18 1;
#X connect 14 0 6 0;
#X connect 14 1 13 0;
#X connect 15 0 5 0;
#X connect 15 1 3 0;
#X connect 15 2 16 0;
#X connect 16 0 20 1;
#X connect 17 0 2 0;
#X connect 25 0 19 1;
#X connect 27 0 25 0;
#X connect 27 0 42 0;
#X connect 28 1 11 0;
#X connect 28 3 31 2;
#X connect 29 1 14 0;
#X connect 29 3 15 0;
#X connect 30 0 27 0;
#X connect 30 1 33 0;
#X connect 30 1 40 0;
#X connect 30 1 41 0;
#X connect 31 1 30 0;
#X connect 33 0 35 0;
#X connect 33 1 34 0;
#X connect 33 2 39 0;
#X connect 34 0 36 1;
#X connect 35 0 36 0;
#X connect 36 0 38 0;
#X connect 39 0 32 1;
#X connect 42 0 12 0;
#X connect 42 0 1 0;
#X restore 24 167 pd action_play;
#N canvas 206 23 1211 499 action_start_rec 0;
#X obj 182 -96 inlet;
#X obj 171 76 extra/sv_tester tempo_isplaying;
#X obj 80 209 s \$0_rec_without_tempo;
#X msg 80 183 1;
#X obj 77 232 extra/sv \$1_\$2_state;
#X msg 116 182 1;
#X text 137 78 NO;
#X text 376 80 YES;
#X obj 335 235 r tempo_quantif_bang;
#X msg 480 296 -1;
#X obj 402 297 i -1;
#X msg 499 264 1;
#X obj 401 325 sel -1;
#X obj 436 412 s \$0_rec_with_tempo;
#X obj 658 386 extra/sv \$1_\$2_state;
#X text 343 38 0 and 5 ( clearing maybe );
#X msg 696 256 0.5;
#X msg 467 376 1;
#X msg 436 377 1;
#X obj 183 -75 extra/visual_tester_state_int;
#X obj 658 409 s \$1_\$2_loop_rec_firsttime;
#X obj 435 351 t b b b;
#X obj 122 159 s \$1_\$2_loop_rec_firsttime;
#X text 565 433 rec_firsttime is used with TimeCompression;
#X obj 801 226 r \$0_cancel_recording;
#X obj 801 248 t b b;
#X msg 793 281 0;
#X obj 226 30 i \$0;
#X obj 226 55 s new_loop_recording;
#X obj 79 138 t b b b;
#X obj 499 236 t b b;
#X obj 183 -19 t b b;
#X text -160 7 Here ! check if there is already others loop recorded .;
#X obj 687 136 sel 0;
#X obj 950 314 s \$0_rec_with_tempo;
#X obj 498 112 extra/sv \$1_\$2_user_is_late;
#X obj 664 188 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 1065 252 extra/sv \$1_\$2_state;
#X msg 1102 226 1;
#X obj 783 187 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text 994 162 User is late \, start recording with a small delay;
#X obj 952 164 t f b b;
#X obj 997 227 samplerate~;
#X obj 952 225 / 1000;
#X obj 950 286 *;
#X connect 0 0 19 0;
#X connect 1 0 29 0;
#X connect 1 1 35 2;
#X connect 3 0 2 0;
#X connect 5 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 9 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 12 1 21 0;
#X connect 16 0 14 1;
#X connect 17 0 14 1;
#X connect 18 0 13 0;
#X connect 19 0 31 0;
#X connect 21 0 18 0;
#X connect 21 1 17 0;
#X connect 21 2 20 0;
#X connect 24 0 25 0;
#X connect 25 0 9 0;
#X connect 25 1 26 0;
#X connect 26 0 14 1;
#X connect 27 0 28 0;
#X connect 29 0 3 0;
#X connect 29 1 5 0;
#X connect 29 2 22 0;
#X connect 30 0 11 0;
#X connect 30 1 16 0;
#X connect 31 0 1 0;
#X connect 31 1 27 0;
#X connect 33 0 30 0;
#X connect 33 0 36 0;
#X connect 33 1 39 0;
#X connect 33 1 41 0;
#X connect 35 1 33 0;
#X connect 38 0 37 1;
#X connect 41 0 43 0;
#X connect 41 1 42 0;
#X connect 41 2 38 0;
#X connect 42 0 44 1;
#X connect 43 0 44 0;
#X connect 44 0 34 0;
#X restore 325 167 pd action_start_rec;
#N canvas 459 424 819 374 action_stop_rec 0;
#X obj 192 -63 inlet;
#X obj 171 76 extra/sv_tester tempo_isplaying;
#X obj 119 122 t b b;
#X obj 119 184 s \$0_rec_without_tempo;
#X text 137 78 NO;
#X text 376 80 YES;
#X obj 447 245 s \$0_rec_with_tempo;
#X obj 550 272 extra/sv \$1_\$2_state;
#X obj 427 117 t b b;
#X msg 119 158 0;
#X text 67 76 Recording;
#X msg 589 133 1.5;
#X obj 350 245 s \$1_\$2_action;
#X msg 350 225 play;
#X obj 350 203 t b f;
#X obj 229 51 bang;
#X obj 190 -17 extra/visual_tester_state \$1 \$2;
#X msg 350 183 0;
#X obj 351 160 extra/quantif_once;
#X connect 0 0 16 0;
#X connect 1 0 2 0;
#X connect 1 1 8 0;
#X connect 2 0 9 0;
#X connect 8 0 18 0;
#X connect 8 1 11 0;
#X connect 9 0 3 0;
#X connect 11 0 7 1;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 14 1 6 0;
#X connect 15 0 1 0;
#X connect 16 2 15 0;
#X connect 17 0 14 0;
#X connect 18 0 17 0;
#X restore 447 167 pd action_stop_rec;
#N canvas 26 52 783 468 action_start_overdub 0;
#X obj 171 -1 inlet;
#X obj 171 76 extra/sv_tester tempo_isplaying;
#X text 137 76 NO;
#X text 376 80 YES;
#X obj 409 273 extra/sv \$1_\$2_state;
#X obj 251 353 s \$0_overdub;
#X msg 433 248 4;
#X obj 171 21 extra/visual_tester_state \$1 \$2;
#X obj 476 219 r \$0_cancel_recording;
#X msg 476 243 2;
#X obj 252 122 r \$1_\$2_loop_startbang;
#X obj 252 157 timer;
#X obj 414 124 t b;
#X text 59 172 Start overdub directly;
#X floatatom 254 179 5 0 0 0 - - - 0;
#X obj 254 212 t f b b;
#X obj 324 271 samplerate~;
#X obj 252 287 *;
#X floatatom 278 322 5 0 0 0 - - - 0;
#X obj 322 323 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 253 248 / 1000;
#X connect 0 0 7 0;
#X connect 1 1 12 0;
#X connect 6 0 4 1;
#X connect 7 4 1 0;
#X connect 8 0 9 0;
#X connect 9 0 4 1;
#X connect 10 0 11 0;
#X connect 11 0 14 0;
#X connect 12 0 11 1;
#X connect 14 0 15 0;
#X connect 15 0 20 0;
#X connect 15 1 16 0;
#X connect 15 2 6 0;
#X connect 16 0 17 1;
#X connect 17 0 5 0;
#X connect 17 0 18 0;
#X connect 17 0 19 0;
#X connect 20 0 17 0;
#X restore 563 167 pd action_start_overdub;
#N canvas 122 119 676 383 action_stop_overdub 0;
#X obj 171 27 inlet;
#X obj 457 116 extra/sv_tester tempo_isplaying;
#X text 664 122 YES;
#X obj 703 206 extra/sv \$1_\$2_state;
#X obj 640 149 t b b;
#X obj 592 207 s \$0_overdub;
#X msg 741 182 2;
#X msg 592 185 0;
#X obj 171 49 extra/visual_tester_state \$1 \$2;
#X connect 0 0 8 0;
#X connect 1 1 4 0;
#X connect 4 0 7 0;
#X connect 4 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 5 0;
#X connect 8 9 1 0;
#X restore 710 168 pd action_stop_overdub;
#N canvas 519 182 554 326 action_clear 0;
#X obj 171 27 inlet;
#X obj 248 137 s \$0_clear;
#X obj 99 158 delay 1000;
#X msg 99 180 0;
#X obj 133 260 extra/sv \$1_\$2_state;
#X obj 210 104 t b b b;
#X msg 202 156 5;
#X obj 175 47 extra/visual_tester_state \$1 \$2;
#X connect 0 0 7 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 5 2 1 0;
#X connect 6 0 4 1;
#X connect 7 1 5 0;
#X connect 7 2 5 0;
#X connect 7 3 5 0;
#X connect 7 4 5 0;
#X connect 7 5 5 0;
#X connect 7 6 5 0;
#X connect 7 7 5 0;
#X connect 7 8 5 0;
#X connect 7 9 5 0;
#X connect 7 10 5 0;
#X restore 850 168 pd action_clear;
#N canvas 351 280 450 300 action_undo 0;
#X obj 171 27 inlet;
#X restore 948 168 pd action_undo;
#X obj 624 99 print no_existing_action;
#N canvas 310 257 770 378 action_stop_next 0;
#X obj 171 27 inlet;
#X obj 171 52 extra/sv_tester tempo_isplaying;
#X obj 375 155 bng 40 1000 500 0 empty empty empty 17 7 0 10 #fc0400 #000000 #000000;
#X obj 391 351 s \$0_play;
#X obj 469 268 extra/sv \$1_\$2_state;
#X obj 375 208 t b b;
#X msg 443 235 2.5;
#X text 449 159 Capable d'annuler une action de play;
#X text 451 177 Capable d'annuler une action d'overdub;
#X obj 390 312 t f b;
#X msg 457 328 3;
#X obj 455 351 extra/sv \$1_\$2_state;
#X obj 354 75 extra/visual_tester_state_int \$1 \$2;
#X obj 322 268 extra/quantif_once;
#X connect 0 0 1 0;
#X connect 1 1 12 0;
#X connect 2 0 5 0;
#X connect 5 0 13 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 9 0 3 0;
#X connect 9 1 10 0;
#X connect 10 0 11 1;
#X connect 12 2 2 0;
#X connect 13 0 9 0;
#X restore 208 168 pd action_stop_next;
#N canvas 319 381 579 301 action_stop 0;
#X obj 171 27 inlet;
#X obj 171 52 extra/sv_tester tempo_isplaying;
#X obj 366 183 s \$0_play;
#X msg 366 161 0;
#X obj 389 234 extra/sv \$1_\$2_state;
#X obj 366 134 t b b;
#X msg 428 211 3;
#X obj 354 75 extra/visual_tester_state_int \$1 \$2;
#X connect 0 0 1 0;
#X connect 1 1 7 0;
#X connect 3 0 2 0;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 2 5 0;
#X restore 114 168 pd action_stop;
#N canvas 536 293 519 602 user_is_late 0;
#X obj 61 205 inlet;
#X obj 32 312 timer;
#X obj 7 39 r tempo_quantif_bang;
#X obj 61 252 extra/sv_tester tempo_isplaying;
#X obj 61 230 bang;
#X obj 33 400 sel 1;
#X obj 60 287 bang;
#X obj 32 335 t f f;
#X obj 33 424 f 0;
#X obj -51 452 extra/sv \$1_\$2_user_is_late;
#X msg 4 212 0;
#X obj 5 60 t b b;
#X obj 32 375 < 800;
#X obj 173 305 extra/sv tempo;
#X obj 173 333 extra/tempo_to_period;
#X obj -60 486 sel 0;
#X obj -60 539 print looper\$1 user is late;
#X floatatom 175 371 5 0 0 0 - - - 0;
#X floatatom 92 342 5 0 0 0 - - - 0;
#X obj 8 504 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj -36 239 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 124 213 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X connect 0 0 4 0;
#X connect 0 0 21 0;
#X connect 1 0 7 0;
#X connect 1 0 18 0;
#X connect 2 0 11 0;
#X connect 3 1 6 0;
#X connect 4 0 3 0;
#X connect 5 0 8 0;
#X connect 6 0 1 1;
#X connect 7 0 12 0;
#X connect 7 1 8 1;
#X connect 8 0 9 1;
#X connect 9 0 15 0;
#X connect 9 0 19 0;
#X connect 10 0 9 1;
#X connect 11 0 10 0;
#X connect 11 0 20 0;
#X connect 11 1 1 0;
#X connect 12 0 5 0;
#X connect 13 0 14 0;
#X connect 14 0 17 0;
#X connect 15 1 16 0;
#X connect 17 0 12 1;
#X restore 131 26 pd user_is_late;
#X obj 106 -8 t a b;
#X obj 107 72 route play stop stop_next start_rec stop_rec start_overdub stop_overdub clear undo fade;
#N canvas 726 278 464 454 action_fade 0;
#X obj 171 27 inlet;
#X obj 98 81 extra/visual_tester_state \$1 \$2;
#X obj 200 186 bang;
#X obj 233 247 extra/sv \$1_\$2_loop_fade;
#X obj 218 296 delay;
#X obj 200 207 t b b b;
#X obj 72 345 s \$0_start_fade;
#X msg 218 328 stop;
#X obj 218 349 s \$1_\$2_action;
#X connect 0 0 1 0;
#X connect 1 4 2 0;
#X connect 2 0 5 0;
#X connect 3 1 4 1;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 5 1 4 0;
#X connect 5 2 3 2;
#X connect 7 0 8 0;
#X restore 1043 168 pd action_fade;
#X connect 0 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 11 0;
#X connect 13 0 1 0;
#X connect 13 1 10 0;
#X connect 13 2 9 0;
#X connect 13 3 2 0;
#X connect 13 4 3 0;
#X connect 13 5 4 0;
#X connect 13 6 5 0;
#X connect 13 7 6 0;
#X connect 13 8 7 0;
#X connect 13 9 8 0;
#X connect 13 9 14 0;
#X restore -184 634 pd action_manager;
#X obj -183 609 s \$1_\$2_action;
#X msg -149 428 play;
#X msg -149 450 stop;
#X msg -149 471 stop_next;
#X msg -148 492 start_rec;
#X msg -148 512 stop_rec;
#X msg -148 532 start_overdub;
#X msg -148 552 stop_overdub;
#X msg -148 572 clear;
#X obj 106 407 cnv 15 280 250 empty empty STATE 20 12 0 9 #fcc4c4 #404040 0;
#X text 112 424 0 : empty;
#X text 112 438 0.5 : wait for rec;
#X text 112 482 2 : play;
#X text 111 466 1.5 : wait for endrec;
#X text 111 452 1 : recording;
#X text 110 513 2.6 wait for overdub;
#X text 111 497 2.5 wait for stop;
#X text 110 528 3 : stop;
#X text 110 544 3.5 : wait for play;
#X text 110 560 4 : overdub;
#X text 110 576 5 : clearing;
#X text -62 413 Action ask by user;
#X obj 396 408 cnv 15 280 250 empty empty value 20 12 0 9 #fcfcc4 #404040 0;
#X obj 471 418 extra/sv \$1_\$2_loop_size;
#X obj 470 460 extra/sv \$1_\$2_loop_timer;
#X obj 470 503 extra/sv \$1_\$2_loop_tempo;
#X floatatom 470 525 10 0 0 0 - - - 0;
#X floatatom 470 481 10 0 0 0 - - - 0;
#X floatatom 471 440 5 0 0 0 - - - 0;
#X obj 472 565 hsl 170 15 0 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 469 545 extra/sv \$1_\$2_recloop_slider;
#X obj 988 410 cnv 15 250 250 empty empty Event 20 12 0 9 #fcfcc4 #404040 0;
#X obj 1005 436 r \$1_\$2_loop_startbang;
#X obj 1005 458 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#N canvas 488 96 952 350 state_manager 0;
#X obj 127 -60 extra/sv \$1_\$2_state;
#X symbolatom 113 141 10 0 0 0 - - - 0;
#X obj 214 67 symbol;
#X msg 185 34 empty;
#X msg 228 34 wait_for_rec;
#X msg 315 34 rec;
#X msg 348 34 wait_for_endrec;
#X msg 450 34 play;
#X msg 485 34 wait_for_stop;
#X msg 575 34 wait_for_overdub;
#X msg 682 34 stop;
#X msg 717 34 wait_for_play;
#X msg 806 34 overdub;
#X msg 861 33 clearing;
#X obj 126 -100 hradio 15 1 0 8 empty empty empty 0 -8 0 10 #fcfcfc #000000 #000000 0;
#X floatatom 116 119 5 0 0 0 - - - 0;
#X obj 200 191 extra/sv \$1_\$2_is_loop_recorded;
#X obj 426 168 i 0;
#X obj 426 191 sel 2 4;
#X obj 419 242 extra/sv \$1_\$2_is_loop_playing;
#X msg 447 218 1;
#X msg 477 219 0;
#X obj 261 169 > 1.9;
#X obj 216 -25 sel 0 0.5 1 1.5 2 2.5 2.6 3 3.5 4 5 6;
#X msg 921 33 fading;
#X connect 0 0 15 0;
#X connect 0 0 17 0;
#X connect 0 0 22 0;
#X connect 0 0 23 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X connect 8 0 2 0;
#X connect 9 0 2 0;
#X connect 10 0 2 0;
#X connect 11 0 2 0;
#X connect 12 0 2 0;
#X connect 13 0 2 0;
#X connect 14 0 0 1;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 18 1 20 0;
#X connect 18 2 21 0;
#X connect 20 0 19 1;
#X connect 21 0 19 1;
#X connect 22 0 16 1;
#X connect 23 0 3 0;
#X connect 23 1 4 0;
#X connect 23 2 5 0;
#X connect 23 3 6 0;
#X connect 23 4 7 0;
#X connect 23 5 8 0;
#X connect 23 6 9 0;
#X connect 23 7 10 0;
#X connect 23 8 11 0;
#X connect 23 9 12 0;
#X connect 23 10 13 0;
#X connect 23 12 24 0;
#X connect 24 0 2 0;
#X coords 0 -1 1 1 85 60 1 100 100;
#X restore 278 493 pd state_manager;
#X obj 468 584 extra/sv \$1_\$2_loop_mute;
#X floatatom 468 603 5 0 0 0 - - - 0;
#X obj 1033 235 tgl 15 0 empty empty empty 17 7 0 10 #fc0400 #000000 #000000 0 1;
#X obj 1034 327 tgl 15 0 empty empty empty 17 7 0 10 #00fc04 #000000 #000000 0 1;
#X obj 976 789 s \$0_init;
#X text 964 895 Probably need to force stop on all tabwrite;
#X text -66 434 Supposed to be 100% safe;
#X text -63 452 at any time;
#X obj 113 630 extra/sv \$1_\$2_is_loop_recorded;
#X obj 196 651 extra/sv \$1_\$2_is_loop_playing;
#X floatatom 113 651 5 0 0 0 - - - 0;
#X floatatom 196 672 5 0 0 0 - - - 0;
#X msg 949 838 0;
#X obj 949 865 s \$0_play;
#X obj 526 826 t b b;
#X obj 526 804 spigot;
#X obj 471 1011 line~;
#X obj 455 1034 *~;
#X obj 402 1088 tabwrite~ \$1_\$2_loop0;
#X obj 184 910 tabwrite~ \$1_\$2_loop0;
#X obj -61 910 tabwrite~ \$1_\$2_loop0;
#X obj 1005 507 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 1005 485 r \$1_\$2_loop_rec_firsttime;
#X text 228 414 TODO end_for_rec_and_play;
#X text 231 428 TODO end_for_rec_without_play;
#N canvas 724 169 730 406 eventManager 0;
#X obj 35 15 r new_loop_recording;
#X obj 62 74 i \$0;
#X obj 35 36 t f b;
#X obj 35 95 ==;
#X obj 35 126 sel 0;
#X text 186 17 Abort recording if another loop wants to record;
#X obj 66 259 s \$0_cancel_recording;
#X obj 98 327 s \$1_\$2_action;
#X msg 98 296 stop_rec;
#X msg 321 293 stop_overdub;
#X obj 36 151 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 91 149 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X obj 35 182 extra/visual_tester_state \$1 \$2;
#X connect 0 0 2 0;
#X connect 1 0 3 1;
#X connect 2 0 3 0;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 4 1 11 0;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X connect 10 0 12 0;
#X connect 12 1 6 0;
#X connect 12 2 8 0;
#X connect 12 6 6 0;
#X connect 12 9 9 0;
#X restore 1031 595 pd eventManager;
#X obj 1004 531 r new_loop_recording;
#X obj 1003 556 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X text -146 248 4 random break gen;
#X floatatom 447 378 5 0 0 0 - - - 0;
#X obj 645 910 tabread4~ \$1_\$2_loop0;
#X text 343 1155 Strange audio artefact when overdubgging :;
#X text 337 1178 tabread4 for player is mandatory for clipping;
#X text 343 1200 With rampgenerator 1 : overdub is ok;
#X obj 336 868 delay 500 1 samp;
#X msg 460 990 1 5;
#X msg 501 992 0 5;
#X text 837 1069 Why sampler et looper are separated ? Because looper should change with tempo \, but not sampler;
#X text 526 682 stop start each beginning;
#X obj 395 909 delay 5;
#X obj 495 864 delay 500 1 samp;
#X obj 423 818 t b b;
#X msg 553 910 stop;
#X msg 487 910 start;
#X obj 645 782 t b f b;
#X obj 469 622 extra/sv \$1_\$2_user_is_late;
#X obj 469 644 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 727 491 array define \$1_\$2_loop0 998230;
#X msg 215 831 start \$1;
#X obj 116 935 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000;
#X msg 727 468 const 0;
#X obj 726 442 r \$0_erase_array;
#X obj 853 973 s \$0_erase_array;
#X text 963 970 This can create audio glitch;
#X obj 406 753 sel 0;
#X obj 336 819 t b f b;
#X obj 336 910 f 0;
#X msg 336 956 start \$1;
#X text 109 593 6 : fading out;
#X msg -147 590 fading;
#X obj 1033 125 tgl 15 0 empty empty empty 17 7 0 10 #fc0400 #000000 #000000 0 1;
#X obj 1033 105 extra/sv \$1_\$2_loop_ledmono;
#X obj 100 680 *~ 1;
#X obj 458 698 *~ 1;
#X connect 1 0 83 0;
#X connect 3 0 19 0;
#X connect 4 0 6 0;
#X connect 4 0 156 0;
#X connect 6 0 38 0;
#X connect 7 0 38 2;
#X connect 8 0 199 0;
#X connect 10 0 155 0;
#X connect 11 0 155 0;
#X connect 13 0 48 0;
#X connect 14 0 3 0;
#X connect 15 0 4 0;
#X connect 16 0 15 0;
#X connect 16 1 14 0;
#X connect 16 2 185 0;
#X connect 19 0 7 0;
#X connect 19 2 156 0;
#X connect 21 0 70 0;
#X connect 27 0 35 0;
#X connect 28 0 30 0;
#X connect 28 0 157 0;
#X connect 30 0 37 0;
#X connect 31 0 37 1;
#X connect 32 0 27 0;
#X connect 33 0 28 0;
#X connect 34 0 33 0;
#X connect 34 1 32 0;
#X connect 35 1 31 0;
#X connect 35 2 157 0;
#X connect 36 0 92 0;
#X connect 39 0 83 0;
#X connect 40 0 48 0;
#X connect 42 0 74 1;
#X connect 43 0 75 1;
#X connect 44 0 45 0;
#X connect 46 0 99 0;
#X connect 48 0 84 0;
#X connect 49 0 11 1;
#X connect 49 0 71 0;
#X connect 66 0 47 0;
#X connect 66 0 167 0;
#X connect 70 0 22 0;
#X connect 70 1 189 0;
#X connect 70 2 46 0;
#X connect 70 8 149 0;
#X connect 70 11 141 0;
#X connect 71 1 23 0;
#X connect 71 2 24 0;
#X connect 71 3 25 0;
#X connect 74 0 139 0;
#X connect 75 0 140 0;
#X connect 79 0 198 1;
#X connect 81 0 181 0;
#X connect 83 0 93 0;
#X connect 84 0 36 0;
#X connect 84 2 44 0;
#X connect 85 0 90 0;
#X connect 89 0 90 0;
#X connect 90 0 91 0;
#X connect 94 0 34 0;
#X connect 95 0 16 0;
#X connect 96 0 152 1;
#X connect 96 0 191 0;
#X connect 97 0 81 0;
#X connect 98 0 21 0;
#X connect 103 0 102 0;
#X connect 104 0 102 0;
#X connect 105 0 102 0;
#X connect 106 0 102 0;
#X connect 107 0 102 0;
#X connect 108 0 102 0;
#X connect 109 0 102 0;
#X connect 110 0 102 0;
#X connect 125 0 130 0;
#X connect 126 0 129 0;
#X connect 127 0 128 0;
#X connect 132 0 131 0;
#X connect 134 0 135 0;
#X connect 137 0 138 0;
#X connect 145 0 147 0;
#X connect 146 0 148 0;
#X connect 149 0 150 0;
#X connect 151 0 177 0;
#X connect 151 1 179 0;
#X connect 152 0 151 0;
#X connect 153 0 154 1;
#X connect 154 0 11 0;
#X connect 159 0 158 0;
#X connect 163 0 164 0;
#X connect 166 0 125 1;
#X connect 167 0 49 0;
#X connect 171 0 193 0;
#X connect 172 0 153 0;
#X connect 173 0 153 0;
#X connect 176 0 10 0;
#X connect 177 0 180 0;
#X connect 178 0 176 0;
#X connect 178 1 173 0;
#X connect 179 0 155 0;
#X connect 180 0 155 0;
#X connect 181 0 152 0;
#X connect 181 1 66 0;
#X connect 181 2 72 0;
#X connect 182 0 183 0;
#X connect 185 0 156 0;
#X connect 185 0 186 0;
#X connect 186 0 38 1;
#X connect 187 0 184 0;
#X connect 188 0 187 0;
#X connect 191 0 178 0;
#X connect 191 1 192 0;
#X connect 192 0 171 0;
#X connect 192 1 193 1;
#X connect 192 2 172 0;
#X connect 193 0 194 0;
#X connect 194 0 155 0;
#X connect 196 0 102 0;
#X connect 198 0 197 0;
#X connect 199 0 157 0;
#X connect 199 0 156 0;
#X connect 199 0 200 0;
#X connect 200 0 154 0;
